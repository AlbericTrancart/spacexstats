!function(e){e.fn.suggest=function(n){return this.each(function(){function t(){r.on("keypress",function(e){if(" "==e.key||"Enter"==e.key){e.preventDefault();var n=r.val();n=n.replace(/["']/g,""),n=n.trim(),-1==d.indexOf(n)&&n.length>0&&f(n)}else"Backspace"==e.key&&""==r.val()&&(e.preventDefault(),lastTagToBeAdded=d[d.length-1],r.val(lastTagToBeAdded),p(lastTagToBeAdded))}),r.on("keyup",function(e){v(r.val())}),i.on("click",".remove",function(n){p(e(n.target).parent().text())}),i.on("focusin",r,function(e){v(r.val()),c.show()}),i.on("focusout",r,function(e){c.hide()}),i.on("mousedown",".suggestion",function(n){f(e(this).attr("value")),setTimeout(function(){r.focus()})}),i.on("tag:added tag:removed",function(){var e=s.width()-o.outerWidth()-1;r.css({width:e})}),e(window).on("resize",function(){console.log("yep");var e=s.width()-o.outerWidth()-1;r.css({width:e})})}var i,s,a,o,r,c,u=e(this),d=new Array,l=["elon-musk","falcon-9","reusability","raptor","merlin","crs","commercial-resupply-services","gwynne-shotwell","dragon"];e.fn.suggest.defaults={maxSuggestions:6};var g=e.extend({},e.fn.suggest.defaults,n),f=function(n){-1==d.indexOf(n)&&(tagText=e.trim(n.toLowerCase()),o.append("<div>"+tagText+'<span class="remove"></span></div>'),d.push(tagText),r.val(""),u.attr("value",function(e,t){return-1==t.indexOf(n)?1==d.length?n:t+" "+n:t}),i.trigger("tag:added"))},p=function(n){if(d.indexOf(n)>-1){d.splice(d.indexOf(n),1),o.children().filter(function(){return e(this).text()===n}).remove();var t=a.attr("value").split(" "),s="";e.each(t,function(e,i){i!=n&&(s+=i,e!=t.length-1&&(s+=" "))}),a.attr("value",s),i.trigger("tag:removed")}},v=function(n){var t=h(n);c.empty(),e.each(t,function(e,n){c.append('<div class="suggestion" value="'+n+'">'+n+"</div>")})},h=function(n){var t=[],i=new RegExp(n,"i");return t=e.grep(l,function(e){return-1==d.indexOf(e)?i.test(e):!1}),t.slice(0,g.maxSuggestions)};!function(){if(a=u,a.css({display:"none"}),u.wrap('<div class="tagger-container"></div>'),i=u.parent(),i.append('<div class="wrapper"></div>'),s=i.children(".wrapper"),s.css({"font-size":"0"}),s.append('<input type="text" class="tag-input" />'),r=s.children("input"),r.css({display:"inline-block"}),s.prepend('<div class="tags"></div>'),o=s.children(".tags"),o.css({display:"inline-block","font-size":"12px"}),i.append('<div class="suggestions"></div>'),c=i.children(".suggestions"),c.hide(),t(),u.val().length>0){var n=u.val().split(" ");e.each(n,function(e,n){f(n)})}}()})}}(jQuery);