var questionViewModel=function(){var e=this;e.allQuestions=ko.observableArray(),e.searchTerm=ko.observable(),e.searchTerm.subscribe(function(){e.getQuestions(e.searchTerm())}),e.currentQuestions=ko.observableArray(),e.lockedQuestion=ko.observable(""),e.questionComparer=function(e,n){return n.occurrences-e.occurrences},e.retrieveLockedQuestion=function(n){if(n&&(window.location.hash=n),window.location.hash){questionSlug=window.location.hash.substring(1);var o=$.grep(e.allQuestions(),function(e){return e.slug==questionSlug});e.currentQuestions.push(o[0]),e.lockedQuestion(o[0])}return!1},e.getQuestions=function(n){e.currentQuestions.removeAll(),window.location.hash="";var o=n.split(" ");if(""!==n){var s,t=[];$.each(o,function(n,o){if(""!==o){var i=new RegExp(o,"i");s=$.grep(e.allQuestions(),function(e){return i.test(e.title)}),t=t.concat(s)}}),$.each(t,function(n,o){var s=e.currentQuestions().indexOf(o);-1!==s?e.currentQuestions()[s].occurrences++:(o.occurrences=1,e.currentQuestions.push(o))}),e.currentQuestions.sort(e.questionComparer)}},e.lockQuestion=function(n){e.lockedQuestion(n),window.location.hash=n.slug},e.clearLockedQuestion=function(){e.lockedQuestion("")},e.init=function(){$.ajax("/faq/getquestions",{dataType:"json",type:"POST",success:function(n){$.each(n,function(n,o){e.allQuestions.push(o)}),e.retrieveLockedQuestion()}})}()};