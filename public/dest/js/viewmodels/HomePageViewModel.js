define(["knockout","jquery","jquery.ui","jquery.fracs","jquery.throttle-debounce"],function(t,a,i,s,o){var c=function(){var i=this;i.activeStatistic=t.observable(),i.activeStatistic.subscribe(function(){window.location.hash=i.activeStatistic().split(" ").join("_")}),i.scrollToStatistic=function(t){t&&a("html, body").animate({scrollTop:t.offset().top},1e3,"easeInOutQuad")},i.goToNextStatistic=function(t,s){var o=a(s.target).parents("div[data-stat]").next();i.scrollToStatistic(o)},i.goToPreviousStatistic=function(t,s){var o=a(s.target).parents("div[data-stat]").prev();i.scrollToStatistic(o)},i.goToClickedStatistic=function(t,s){s.preventDefault();var o=a('div[data-stat="'+a(s.target).data("stat")+'"]');i.scrollToStatistic(o)},i.changeSubstatistic=function(t,i,s){var o=a('div[data-stat="'+t+'"]'),c=a(s.target).data("substat");o.find('span[data-substat="'+c+'"]').css("opacity",0).slide},a(window).on("scroll",a.debounce(100,function(){a("div[data-stat]").fracs("max","visible",function(t){i.activeStatistic(a(t).data("stat"))})})),i.init=function(){a('[data-substat]:not("li")').filter(function(t){return a(this).data("substat")>0}).hide(),""!=window.location.hash&&"#"!=window.location.hash&&(i.activeStatistic(window.location.hash.substring(1).split("_").join(" ")),i.scrollToStatistic(a('div[data-stat="'+i.activeStatistic()+'"]')))}()};return c});