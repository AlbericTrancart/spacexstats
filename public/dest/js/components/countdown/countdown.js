define(["knockout","text!components/countdown/countdown.html"],function(e,o){function n(o){var n=this;n.launchDateTime=e.observable(o.launchDateTime),n.isLaunchExact=e.observable(7==o.launchSpecificity||6==o.launchSpecificity),n.secondsAwayFromLaunch=e.observable(),n.init=function(){n.isLaunchExact()&&(n.launchUnixSeconds=e.observable(Date.parse(o.launchDateTime)/1e3),n.days=e.observable(),n.hours=e.observable(),n.minutes=e.observable(),n.seconds=e.observable(),n.daysText=e.observable(),n.hoursText=e.observable(),n.minutesText=e.observable(),n.secondsText=e.observable(),n.countdownProcessor=function(){var e=n.launchUnixSeconds(),o=Math.floor($.now()/1e3);if(o>=e)clearInterval(n.countdownTimer),n.zeroTimer();else{n.secondsAwayFromLaunch(e-o);var s=n.secondsAwayFromLaunch();n.days(Math.floor(s/86400)),s-=60*n.days()*60*24,n.hours(Math.floor(s/3600)),s-=60*n.hours()*60,n.minutes(Math.floor(s/60)),s-=60*n.minutes(),n.seconds(s),n.daysText(1==n.days()?"Day":"Days"),n.hoursText(1==n.hours()?"Hour":"Hours"),n.minutesText(1==n.minutes()?"Minute":"Minutes"),n.secondsText(1==n.seconds()?"Second":"Seconds")}},n.countdownTimer=setInterval(n.countdownProcessor,1e3))}()}return{viewModel:n,template:o}});